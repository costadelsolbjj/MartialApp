!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){n(1),e.exports=n(2)},function(e,t){var n,a=function(e){return null===e?"":moment(e).format("MM/DD/YYYY h:mm A")},i=flatpickr("#StartTime",{enableTime:!0,dateFormat:"m/d/Y h:i K"}),l=flatpickr("#EndTime",{enableTime:!0,dateFormat:"m/d/Y h:i K"});$("#calendar").fullCalendar({defaultView:"month",height:"parent",header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},eventRender:function(e,t){t.qtip({content:{title:e.title,text:e.description},hide:{event:"unfocus"},show:{solo:!0},position:{my:"top left",at:"bottom left",viewport:$("#calendar-wrapper"),adjust:{method:"shift"}}})},events:"/Calendar/GetCalendarEvents",eventClick:function(e,t){n=e,$(this).data("qtip")&&$(this).qtip("hide");$("#eventModalLabel").html("Edit Event"),$("#eventModalSave").html("Update Event"),$("#EventTitle").val(e.title),$("#Description").val(e.description),$("#isNewEvent").val(!1);var r=a(e.start),o=a(e.end);i.setDate(r),l.setDate(o),$("#StartTime").val(r),$("#EndTime").val(o),e.allDay?$("#AllDay").prop("checked","checked"):$("#AllDay")[0].checked=!1;$("#eventModal").modal("show")},selectable:!0,select:function(e,t){$("#eventForm")[0].reset(),$("#eventModalLabel").html("Add Event"),$("#eventModalSave").html("Create Event"),$("#isNewEvent").val(!0),e=a(e),t=a(t),i.setDate(e),l.setDate(t),$("#eventModal").modal("show")}}),$("#eventModalSave").click((function(){var e=$("#EventTitle").val(),t=$("#Description").val(),a=moment($("#StartTime").val()),i=moment($("#EndTime").val()),l=$("#AllDay").is(":checked"),r="true"===$("#isNewEvent").val();if(a>i)alert("Start Time cannot be greater than End Time");else if(a.isValid()&&i.isValid()||l){var o={title:e,description:t,isAllDay:l,startTime:a._i,endTime:i._i};r?function(e){axios({method:"post",url:"/Calendar/AddEvent",data:{Title:e.title,Description:e.description,Start:e.startTime,End:e.endTime,AllDay:e.isAllDay}}).then((function(t){var n=t.data,a=n.message,i=n.eventId;if(""===a){var l={start:e.startTime,end:e.endTime,allDay:e.isAllDay,title:e.title,description:e.description,eventId:i};$("#calendar").fullCalendar("renderEvent",l),$("#calendar").fullCalendar("unselect"),$("#eventModal").modal("hide")}else alert("Something went wrong: ".concat(a))})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}(o):function(e){axios({method:"post",url:"/Calendar/UpdateEvent",data:{EventId:n.eventId,Title:e.title,Description:e.description,Start:e.startTime,End:e.endTime,AllDay:e.isAllDay}}).then((function(t){var a=t.data.message;""===a?(n.title=e.title,n.description=e.description,n.start=e.startTime,n.end=e.endTime,n.allDay=e.isAllDay,$("#calendar").fullCalendar("updateEvent",n),$("#eventModal").modal("hide")):alert("Something went wrong: ".concat(a))})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}(o)}else alert("Please enter both Start Time and End Time")})),$("#deleteEvent").click((function(){confirm('Do you really want to delte "'.concat(n.title,'" event?'))&&axios({method:"post",url:"/Calendar/DeleteEvent",data:{EventId:n.eventId}}).then((function(e){var t=e.data.message;""===t?($("#calendar").fullCalendar("removeEvents",n._id),$("#eventModal").modal("hide")):alert("Something went wrong: ".concat(t))})).catch((function(e){return alert("Something went wrong: ".concat(e))}))})),$("#AllDay").on("change",(function(e){e.target.checked?($("#EndTime").val(""),l.clear(),this.checked=!0):this.checked=!1})),$("#EndTime").on("change",(function(){$("#AllDay")[0].checked=!1}))},function(e,t,n){}]);